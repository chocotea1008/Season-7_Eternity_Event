<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì´í„°ë„ë¦¬í„´ ì‹œì¦Œ7 ì´í„°ë‹ˆí‹° ë§ˆë¬´ë¦¬ ì´ë²¤íŠ¸ (Content Visible Fix)</title>
    <style>
      /* --- Base Styles --- */
      @import url("https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap");

      :root {
        --main-accent-color: #b41c51;
        --background-color: #0a0a0a;
        --text-color: #e8e8e8;
        --text-muted-color: #a0a0a0;
        --section-min-height: 90vh;
        --animation-duration: 0.7s; /* ì• ë‹ˆë©”ì´ì…˜ ê¸°ë³¸ ì§€ì†ì‹œê°„ ë‹¨ì¶• */
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      html {
        scroll-behavior: smooth;
      }
      body {
        font-family: "Noto Sans KR", sans-serif;
        background-color: var(--background-color);
        color: var(--text-color);
        line-height: 1.8;
        text-align: center;
        overflow-x: hidden;
        background: linear-gradient(135deg, #1a050d, #0a0a0a, #1a050d, #2c0a16);
        background-size: 400% 400%;
        animation: gradient-bg 18s ease infinite;
      }
      @keyframes gradient-bg {
        /* ... ì´ì „ê³¼ ë™ì¼ ... */
      }

      .event-container {
        width: 100%;
        perspective: 1000px;
      }

      /* --- Section Styles --- */
      .event-section {
        min-height: var(--section-min-height);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 60px 20px;
        position: relative;
        /* overflow: hidden; /* ì ì‹œ ì£¼ì„ ì²˜ë¦¬í•˜ì—¬ ë¬¸ì œ í™•ì¸ */
      }
      .hero-section {
        min-height: 100vh;
      }

      /* --- Scroll Animation Base --- */
      .scroll-animate {
        opacity: 0; /* ê¸°ë³¸ ìˆ¨ê¹€ */
        transition: opacity 0.5s ease-out; /* í˜ì´ë“œì¸ ì‹œê°„ ë‹¨ì¶• */
        /* ê¸°ë³¸ì ìœ¼ë¡œ ì• ë‹ˆë©”ì´ì…˜ ì ìš© ì•ˆí•¨, .visibleì—ì„œ ì ìš© */
        /* transform: translateY(20px); */
      }
      .scroll-animate.visible {
        opacity: 1;
        /* transform: translateY(0); */
      }

      /* --- Hero Section --- */
      .logo-perspective-container {
        perspective: 800px;
        margin-bottom: 35px;
      }
      .eternity-logo {
        display: block;
        width: 180px;
        height: 180px;
        object-fit: contain;
        border-radius: 25px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6);
        src: "https://via.placeholder.com/180x180/B41C51/FFFFFF?text=Eternity+Logo";
        /* ì´ˆê¸° ìƒíƒœ */
        opacity: 0;
        transform: rotateY(30deg) rotateX(10deg) scale(0.8);
        transition: transform 0.8s cubic-bezier(0.19, 1, 0.22, 1) 0.1s,
          /* ì•½ê°„ì˜ ë”œë ˆì´ */ opacity 0.6s ease-out 0.1s, box-shadow 0.4s ease; /* ì†ë„ ê°œì„  */
      }
      .scroll-animate.visible .eternity-logo {
        opacity: 1;
        transform: rotateY(0deg) rotateX(0deg) scale(1);
      }
      .eternity-logo:hover {
        /* í˜¸ë²„ íš¨ê³¼ ê°œì„  */
        transform: scale(1.05) rotateY(-5deg);
        box-shadow: 0 15px 50px rgba(180, 28, 81, 0.4);
      }

      h1 {
        font-size: 3.2em;
        color: var(--main-accent-color);
        margin-bottom: 25px;
        font-weight: 900;
        letter-spacing: -1.5px;
        line-height: 1.3;
        opacity: 1 !important; /* ë‚´ë¶€ span ì• ë‹ˆë©”ì´ì…˜ ìœ„í•´ í•­ìƒ ë³´ì´ê²Œ */
      }
      h1 .char {
        display: inline-block;
        opacity: 0;
        transform: translateY(40px) rotateZ(10deg) scale(0.8);
        transition: opacity 0.4s cubic-bezier(0.215, 0.61, 0.355, 1),
          transform 0.5s cubic-bezier(0.215, 0.61, 0.355, 1); /* ì†ë„ ê°œì„  */
        will-change: transform, opacity;
        /* transition-delayëŠ” JSì—ì„œ ì ìš© */
      }
      .scroll-animate.visible h1 .char {
        opacity: 1;
        transform: translateY(0) rotateZ(0deg) scale(1);
      }

      .subtitle {
        font-size: 1.3em;
        color: var(--text-muted-color);
        max-width: 600px;
        margin: 0 auto;
        /* ì´ˆê¸° ìƒíƒœ */
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.5s ease-out 0.4s, transform 0.5s ease-out 0.4s; /* ë”œë ˆì´ ì¤„ì„ */
        will-change: transform, opacity;
      }
      .scroll-animate.visible .subtitle {
        opacity: 1;
        transform: translateY(0);
      }

      /* --- !!! Content Sections - ìˆ˜ì •ëœ ë¶€ë¶„ !!! --- */
      .content-section:not(:first-child):not(:last-child) {
        /* Heroì™€ Motto ì œì™¸í•œ ì„¹ì…˜ */
        /* ì—¬ê¸°ì— í•„ìš”í•œ ë¶€ëª¨ ì• ë‹ˆë©”ì´ì…˜ ìŠ¤íƒ€ì¼ ì¶”ê°€ ê°€ëŠ¥ */
        position: relative;
        overflow: visible;
      }

      .content-wrapper {
        /* content-wrapper ìì²´ ì• ë‹ˆë©”ì´ì…˜ ë‹¨ìˆœí™” */
        max-width: 700px;
        background-color: rgba(20, 20, 20, 0.7);
        padding: 50px 60px;
        border-radius: 15px;
        box-shadow: 0 10px 35px rgba(0, 0, 0, 0.5);
        position: relative; /* p íƒœê·¸ ìœ„ì¹˜ ê¸°ì¤€ */
        backdrop-filter: blur(10px); /* ìœ ë¦¬ íš¨ê³¼ ì¶”ê°€ */

        /* ì´ˆê¸° ìƒíƒœ: íˆ¬ëª…í•˜ê³  ì•½ê°„ ì•„ë˜ */
        opacity: 0;
        transform: translateY(40px);
        /* transition ì„¤ì •: ì„¹ì…˜(.visible)ì´ ë‚˜íƒ€ë‚œ í›„ ì•½ê°„ ë’¤ ì‹œì‘ */
        transition: opacity 0.6s ease-out 0.2s, transform 0.6s ease-out 0.2s; /* ì†ë„ ê°œì„  */
        will-change: opacity, transform;
      }

      /* ì§ìˆ˜ ì„¹ì…˜ì€ ë‹¤ë¥¸ ë°©í–¥ì—ì„œ ë“±ì¥ */
      .content-section:nth-child(even) .content-wrapper {
        transform: translateX(40px); /* ì˜¤ë¥¸ìª½ì—ì„œ ë“¤ì–´ì˜¤ëŠ” íš¨ê³¼ */
      }
      .content-section:nth-child(odd) .content-wrapper {
        transform: translateX(-40px); /* ì™¼ìª½ì—ì„œ ë“¤ì–´ì˜¤ëŠ” íš¨ê³¼ */
      }

      /* .visible ìƒíƒœ */
      .scroll-animate.visible .content-wrapper {
        opacity: 1;
        transform: translateX(0) translateY(0);
      }

      /* ë‚´ìš© P íƒœê·¸ ì• ë‹ˆë©”ì´ì…˜ */
      .content-wrapper p {
        font-size: 1.15em;
        margin-bottom: 1.8em;
        color: var(--text-color);

        /* ì´ˆê¸° ìƒíƒœ: íˆ¬ëª…í•˜ê³  ì•½ê°„ ì•„ë˜ */
        opacity: 0;
        transform: translateY(25px);
        transition: opacity 0.5s ease-out, transform 0.5s ease-out; /* ì†ë„ ê°œì„  */
        will-change: opacity, transform;
        /* transition-delayëŠ” JSì—ì„œ ì„¤ì • */
      }
      .content-wrapper p:last-child {
        margin-bottom: 0;
      }

      /* P íƒœê·¸ .visible ìƒíƒœ (JSì—ì„œ delayì™€ í•¨ê»˜ ì ìš©ë  ìµœì¢… ëª¨ìŠµ) */
      .scroll-animate.visible .content-wrapper p.p-animate-visible {
        opacity: 1;
        transform: translateY(0);
      }

      .highlight {
        color: #b41c51; /* ìš”ì²­ëŒ€ë¡œ ìƒ‰ìƒ ì ìš© */
        font-weight: bold;
        position: relative;
        display: inline-block;
        padding: 0 3px;
      }

      /* ê°•ì¡° íš¨ê³¼ ì¶”ê°€ */
      .highlight::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 2px;
        background-color: #b41c51;
        transform: scaleX(0);
        transform-origin: bottom right;
        transition: transform 0.3s ease-out;
      }

      .scroll-animate.visible .highlight::after {
        transform: scaleX(1);
        transform-origin: bottom left;
        transition-delay: 0.7s;
      }

      /* --- Motto Section --- */
      .motto {
        font-style: normal;
        color: var(--main-accent-color);
        font-weight: 900;
        font-size: 2.2em;
        letter-spacing: 2px;
        text-transform: uppercase;
        padding: 30px 20px;
        line-height: 1.4;
        text-shadow: 0 0 10px rgba(180, 28, 81, 0.7),
          0 0 20px rgba(180, 28, 81, 0.5);
        /* ì´ˆê¸° ìƒíƒœ */
        opacity: 0;
        transform: scale(0.7);
        transition: opacity 0.7s ease-out 0.2s,
          transform 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.2s; /* ì†ë„ ê°œì„  */
        animation: glowing-motto 3s infinite ease-in-out;
        animation-play-state: paused;
        will-change: transform, opacity;
      }
      .event-section:last-child .content-wrapper {
        /* ë§ˆì§€ë§‰ ì„¹ì…˜ wrapper ìŠ¤íƒ€ì¼ ì œê±° */
        background: none;
        box-shadow: none;
        padding: 0;
        border-radius: 0;
        max-width: none;
        opacity: 1;
        transform: none;
        transition: none;
      }
      .scroll-animate.visible .motto {
        opacity: 1;
        transform: scale(1);
        animation-play-state: running;
      }
      @keyframes glowing-motto {
        0%,
        100% {
          text-shadow: 0 0 10px rgba(180, 28, 81, 0.7),
            0 0 20px rgba(180, 28, 81, 0.5);
        }
        50% {
          text-shadow: 0 0 15px rgba(180, 28, 81, 0.9),
            0 0 30px rgba(180, 28, 81, 0.7), 0 0 40px rgba(180, 28, 81, 0.4);
        }
      }

      /* --- ë°°ê²½ íš¨ê³¼ ì¶”ê°€ --- */
      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          circle at 50% 50%,
          rgba(180, 28, 81, 0.15),
          transparent 70%
        );
        pointer-events: none;
        z-index: -1;
      }

      /* ì¸ì¦í•˜ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
      .verify-button {
        position: fixed;
        bottom: 30px;
        right: 30px;
        background-color: var(--main-accent-color);
        color: white;
        border: none;
        border-radius: 50px;
        padding: 12px 25px;
        font-size: 1rem;
        font-weight: bold;
        box-shadow: 0 4px 15px rgba(180, 28, 81, 0.4);
        cursor: pointer;
        display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ */
        z-index: 100;
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.5s ease, transform 0.5s ease,
          background-color 0.3s;
      }

      .verify-button.show {
        display: block;
        opacity: 1;
        transform: translateY(0);
      }

      .verify-button:hover {
        background-color: #d02263;
        box-shadow: 0 6px 20px rgba(180, 28, 81, 0.6);
        transform: translateY(-2px);
      }

      .verify-button:active {
        transform: translateY(1px);
      }

      /* ë²„íŠ¼ ì•„ì´ì½˜ */
      .verify-button::before {
        content: "âœ“";
        margin-right: 8px;
      }

      /* --- Responsive --- (ì´ì „ê³¼ ë™ì¼) */
      @media (max-width: 768px) {
        /* ... */

        /* ëª¨ë°”ì¼ì—ì„œ ë²„íŠ¼ í¬ê¸° ì¡°ì • */
        .verify-button {
          bottom: 20px;
          right: 20px;
          padding: 10px 20px;
          font-size: 0.9rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="event-container">
      <!-- Hero Section -->
      <section class="event-section hero-section scroll-animate">
        <div class="logo-perspective-container">
          <img
            src="ì´í„°ë‹ˆí‹° í‹°ì–´ ë¡œê³ .webp"
            alt="ì´í„°ë‹ˆí‹° í‹°ì–´ ë¡œê³ "
            class="eternity-logo"
          />
        </div>
        <h1 data-text-split>
          ì´í„°ë„ë¦¬í„´ ì‹œì¦Œ7<br />ë°ë¯¸ê°“, ì´í„°ë‹ˆí‹° ë§ˆë¬´ë¦¬ ì´ë²¤íŠ¸
        </h1>
        <p class="subtitle">
          ì‹œì¦Œ7ì˜ ì •ì ì„ í–¥í•œ ë‹¹ì‹ ì˜ ë¹›ë‚˜ëŠ” ì—¬ì •ì„ ì‘ì›í•©ë‹ˆë‹¤!
        </p>
      </section>

      <!-- Content Section 1 -->
      <section class="event-section content-section scroll-animate">
        <div class="content-wrapper">
          <p>
            ì•ˆë…•í•˜ì„¸ìš”! ì´í„°ë„ ë¦¬í„´(èˆŠ ë¸”ë™ì„œë°”ì´ë²Œ: ì˜ì›íšŒê·€)ì—ì„œ í™œë™ ì¤‘ì¸
            <strong class="highlight">ë¶€ë°©ì¥ ê´‘ë³µì ˆ</strong>ì…ë‹ˆë‹¤! ğŸ˜Š
          </p>
          <p>
            ì‹œì¦Œ 7 ë£¨ë¯¸ì•„ì„¬ ì—¬í–‰ ì¦ê¸°ê³  ê³„ì‹ ê°€ìš”?<br />ì €ë„ ì²œì²œíˆ ì„¬ì„ ì‚°ì±…í•˜ë©°
            ê³µì§€ë¥¼ ì¤€ë¹„í–ˆì–´ìš”. ã…ã…
          </p>
        </div>
      </section>

      <!-- Content Section 2 -->
      <section class="event-section content-section scroll-animate">
        <div class="content-wrapper">
          <p>
            ì´ë²ˆ ì‹œì¦Œ, <strong class="highlight">íŠ¹ë³„í•œ ì´ë²¤íŠ¸</strong>ê°€
            ì¤€ë¹„ë˜ì–´ ìˆìŠµë‹ˆë‹¤! ğŸ¥³
          </p>
          <p>
            ğŸ”¹ ì´ë²ˆ ì‹œì¦Œ ì¢…ë£Œ í›„ ìµœì¢… í‹°ì–´<br />
            <strong class="highlight">"ë°ë¯¸ê°“"</strong> ë˜ëŠ”
            <strong class="highlight">"ì´í„°ë‹ˆí‹°"</strong>ë¥¼ ë‹¬ì„±í•œ ë¶„ë“¤ê»˜ íŠ¹ë³„í•œ
            ë³´ìƒ! ğŸ”¹
          </p>
        </div>
      </section>

      <!-- Content Section 3 - ë³´ìƒ ì•ˆë‚´ -->
      <section
        id="section3"
        class="event-section content-section scroll-animate"
      >
        <div class="content-wrapper">
          <p><strong class="highlight">ğŸ ë³´ìƒ ì•ˆë‚´</strong></p>
          <p>
            <strong class="highlight">ë°ë¯¸ê°“</strong>ì„ ë‹¬ì„±í•˜ë©´ ğŸ‘‰
            <strong class="highlight">ì¹´ì¹´ì˜¤ì‡¼í•‘ 1ë§Œì›ê¶Œ</strong>
          </p>
          <p>
            <strong class="highlight">ì´í„°ë‹ˆí‹°</strong>ë¥¼ ë‹¬ì„±í•˜ë©´ ğŸ‘‰
            <strong class="highlight">ì¹´ì¹´ì˜¤ì‡¼í•‘ 3ë§Œì›ê¶Œ</strong>
          </p>
          <p>
            <strong class="highlight">ğŸ“¸ ì¸ì¦ ë°©ë²•</strong><br />
            "ë°ë¯¸ê°“" ë˜ëŠ” "ì´í„°ë‹ˆí‹°" í‹°ì–´ ì¸ì¦ ì‚¬ì§„ì„ ê°œì¸ í†¡ìœ¼ë¡œ ë³´ë‚´ì£¼ì„¸ìš”!
          </p>
          <p style="font-size: 0.9em">
            ì—¬ëŸ¬ ê³„ì •ìœ¼ë¡œ ë‹¬ì„±í•˜ë©´ ë‘ ë²ˆ ë³´ìƒì„ ë°›ì„ ìˆ˜ë„ ìˆì–´ìš”! ğŸ˜²
          </p>
        </div>
      </section>

      <!-- Content Section 4 - ì°¸ê³ ì‚¬í•­ -->
      <section class="event-section content-section scroll-animate">
        <div class="content-wrapper">
          <p><strong class="highlight">ğŸ’¡ ì°¸ê³  ì‚¬í•­</strong></p>
          <p>
            ìƒí’ˆê¶Œ ëŒ€ì‹  ë‹¤ë¥¸ ìƒí’ˆì„ ì›í•˜ì‹œë©´,<br />í•œë„ ë‚´ì—ì„œ êµí™˜ ê°€ëŠ¥í•©ë‹ˆë‹¤!
          </p>
          <p>
            <strong class="highlight">ì´í„°ë‹ˆí‹°:</strong> 3ë§Œì› ì´ë‚´<br />
            <strong class="highlight">ë°ë¯¸ê°“:</strong> 1ë§Œì› ì´ë‚´
          </p>
          <p style="font-size: 0.9em; color: var(--text-muted-color)">
            (ë¯¸ë¦¬ ì›í•˜ëŠ” ìƒí’ˆì„ ì•Œë ¤ì£¼ì„¸ìš”! ğŸ)
          </p>
        </div>
      </section>

      <!-- Content Section 5 - ì£¼ì˜ì‚¬í•­ -->
      <section class="event-section content-section scroll-animate">
        <div class="content-wrapper">
          <p><strong class="highlight">ğŸ’¥ ì£¼ì˜ ì‚¬í•­</strong></p>
          <p>èˆŠ ë¸”ë™ì„œë°”ì´ë²Œ: ì˜ì›íšŒê·€ ì¹´í†¡ë°© ì¸ì›ì— í•œì •ëœ ì´ë²¤íŠ¸ì…ë‹ˆë‹¤.</p>
          <p>
            ë¶ˆë²•ì ì¸ ë°©ë²•(ëŒ€ë¦¬, ì–´ë·°ì§•)ìœ¼ë¡œ í‹°ì–´ë¥¼ ë‹¬ì„±í•œ ê²½ìš°<br />ë¶ˆì´ìµì´
            ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!
          </p>
          <p>
            ì´ ì‘ì€ ë³´ìƒìœ¼ë¡œ ì—¬ëŸ¬ë¶„ì˜ ë©‹ì§„ ë„ì „ì„ ì‘ì›í•©ë‹ˆë‹¤!<br />
            ê·¸ëŸ¼ ëª¨ë‘ <strong class="highlight">ë°ë¯¸ê°“</strong>ê³¼
            <strong class="highlight">ì´í„°ë‹ˆí‹°</strong>ë¥¼ í–¥í•´ ë‹¬ë ¤ê°€ì„¸ìš”! ğŸ†
          </p>
        </div>
      </section>

      <!-- Motto Section -->
      <section class="event-section content-section scroll-animate">
        <div class="content-wrapper">
          <p class="motto">[ ì ˆë§ì— ë‹¤ë‹¤ë¥¸ í°ì—ê²Œ ëª¨ë“  ì˜ê´‘ì„! ]</p>
        </div>
      </section>
    </div>

    <!-- ì¸ì¦í•˜ê¸° ë²„íŠ¼ -->
    <a
      href="https://open.kakao.com/o/s7S8s4Q"
      target="_blank"
      class="verify-button"
      >ì¸ì¦í•˜ê¸°</a
    >

    <script>
      // --- Text Split Function (ì´ì „ê³¼ ë™ì¼) ---
      function splitTextIntoSpans(selector) {
        const elements = document.querySelectorAll(selector);
        elements.forEach((element) => {
          if (element.hasAttribute("data-text-split-init")) return;
          let originalHTML = element.innerHTML;
          element.textContent = "";
          const brPlaceholder = "___BR___";
          originalHTML = originalHTML.replace(/<br\s*\/?>/gi, brPlaceholder);
          let charIndex = 0;
          originalHTML.split(brPlaceholder).forEach((line, lineIndex) => {
            if (lineIndex > 0)
              element.appendChild(document.createElement("br"));
            line.split(/(\s+)/).forEach((word) => {
              if (word.trim().length > 0) {
                const wordSpan = document.createElement("span");
                wordSpan.style.display = "inline-block";
                word.split("").forEach((char) => {
                  const charSpan = document.createElement("span");
                  charSpan.className = "char";
                  charSpan.textContent = char;
                  charSpan.style.transitionDelay = `${charIndex * 0.03}s`;
                  wordSpan.appendChild(charSpan);
                  charIndex++;
                });
                element.appendChild(wordSpan);
              } else if (word.length > 0) {
                element.appendChild(document.createTextNode(word));
              }
            });
          });
          element.setAttribute("data-text-split-init", "true");
        });
      }

      // --- Intersection Observer for Animations ---
      const scrollElements = document.querySelectorAll(".scroll-animate");

      const observerOptions = {
        root: null,
        rootMargin: "-10px", // ì¡°ê¸ˆ ì¼ì° í™œì„±í™”
        threshold: 0.15, // ê°ì§€ ì„ê³„ê°’ ë‚®ì¶¤ (15%)
      };

      const observerCallback = (entries, observer) => {
        entries.forEach((entry) => {
          const targetElement = entry.target;

          if (entry.isIntersecting) {
            // í™”ë©´ì— ë“¤ì–´ì˜´
            console.log("Intersecting:", targetElement.className); // ë””ë²„ê¹… ë¡œê·¸ ì¶”ê°€
            targetElement.classList.add("visible");

            // Content Section ë‚´ë¶€ P íƒœê·¸ Stagger ì• ë‹ˆë©”ì´ì…˜ ì²˜ë¦¬
            // Hero ì„¹ì…˜ê³¼ ë§ˆì§€ë§‰ ì„¹ì…˜ì€ ì œì™¸
            if (
              targetElement.classList.contains("content-section") &&
              !targetElement.classList.contains("hero-section") &&
              targetElement !== scrollElements[scrollElements.length - 1] &&
              !targetElement.hasAttribute("data-p-animated")
            ) {
              const contentWrapper =
                targetElement.querySelector(".content-wrapper");
              // contentWrapperê°€ ë¨¼ì € ë‚˜íƒ€ë‚œ í›„ p íƒœê·¸ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
              // ë”œë ˆì´ ì‹œê°„ ë‹¨ì¶•
              const wrapperTransitionDuration = 0.6; // content-wrapper transition ì‹œê°„
              const wrapperDelay = 0.2; // content-wrapper ì‹œì‘ ì§€ì—°
              const pInitialDelay = wrapperTransitionDuration + wrapperDelay; // p ì‹œì‘ ì „ ì´ ëŒ€ê¸° ì‹œê°„

              const paragraphs = contentWrapper.querySelectorAll("p");
              console.log(
                `Found ${paragraphs.length} paragraphs in`,
                targetElement.className
              ); // ë””ë²„ê¹… ë¡œê·¸

              paragraphs.forEach((p, index) => {
                const delay = pInitialDelay + index * 0.1; // ê° p íƒœê·¸ ìˆœì°¨ ë”œë ˆì´ ë‹¨ì¶•
                p.style.transitionDelay = `${delay}s`;
                p.classList.add("p-animate-visible"); // ì• ë‹ˆë©”ì´ì…˜ í™œì„±í™” í´ë˜ìŠ¤ ì¶”ê°€
                console.log(`Applying delay ${delay}s to p[${index}]`); // ë””ë²„ê¹… ë¡œê·¸
              });
              targetElement.setAttribute("data-p-animated", "true"); // ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€
            }

            // í•œ ë²ˆ ì‹¤í–‰ í›„ ê´€ì°° ì¤‘ì§€ (ì„ íƒ ì‚¬í•­)
            // observer.unobserve(targetElement);
          } else {
            // í™”ë©´ì—ì„œ ë‚˜ê° (ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™” í•„ìš” ì‹œ ì£¼ì„ í•´ì œ)
            // if (targetElement.classList.contains('visible')) {
            //     console.log('Out of view:', targetElement.className); // ë””ë²„ê¹… ë¡œê·¸
            //     targetElement.classList.remove('visible');
            //     if (targetElement.hasAttribute('data-p-animated')) {
            //         targetElement.removeAttribute('data-p-animated');
            //         targetElement.querySelectorAll('.content-wrapper p').forEach(p => {
            //             p.classList.remove('p-animate-visible');
            //             p.style.transitionDelay = '0s';
            //         });
            //     }
            // }
          }
        });
      };

      const observer = new IntersectionObserver(
        observerCallback,
        observerOptions
      );

      scrollElements.forEach((el) => {
        observer.observe(el);
      });

      // --- ì¿ í‚¤ ê´€ë ¨ í•¨ìˆ˜ ---
      function setCookie(name, value, days) {
        let expires = "";
        if (days) {
          const date = new Date();
          date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
          expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + value + expires + "; path=/";
      }

      function getCookie(name) {
        const nameEQ = name + "=";
        const ca = document.cookie.split(";");
        for (let i = 0; i < ca.length; i++) {
          let c = ca[i];
          while (c.charAt(0) === " ") c = c.substring(1);
          if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length);
        }
        return null;
      }

      // --- ì¸ì¦ ë²„íŠ¼ ì²˜ë¦¬ ---
      function handleVerifyButton() {
        const section3 = document.getElementById("section3");
        const verifyButton = document.querySelector(".verify-button");

        // ì„¹ì…˜3ì— ëŒ€í•œ Observer ì„¤ì •
        const section3Observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                // ì„¹ì…˜3ì´ ë³´ì¼ ë•Œ ë²„íŠ¼ í‘œì‹œ
                setTimeout(() => {
                  verifyButton.classList.add("show");
                  // ë²„íŠ¼ì„ ë´¤ë‹¤ëŠ” ì •ë³´ë¥¼ ì¿ í‚¤ì— ì €ì¥ (30ì¼ê°„ ìœ íš¨)
                  setCookie("sawVerifyButton", "true", 30);
                }, 1000); // ì»¨í…ì¸ ê°€ ë‚˜íƒ€ë‚œ í›„ ì•½ê°„ì˜ ë”œë ˆì´ë¥¼ ë‘ê³  ë²„íŠ¼ í‘œì‹œ

                // ì´ ì„¹ì…˜ì— ëŒ€í•œ ê´€ì°° ì¤‘ì§€ (í•œë²ˆë§Œ ì‹¤í–‰)
                section3Observer.unobserve(section3);
              }
            });
          },
          { threshold: 0.5 }
        ); // ì„¹ì…˜ì˜ 50%ê°€ ë³´ì¼ ë•Œ í™œì„±í™”

        section3Observer.observe(section3);

        // ì´ë¯¸ ë²„íŠ¼ì„ ë³¸ ì ì´ ìˆë‹¤ë©´ í˜ì´ì§€ ë¡œë“œ ì‹œ ë°”ë¡œ í‘œì‹œ
        if (getCookie("sawVerifyButton") === "true") {
          verifyButton.classList.add("show");
        }
      }

      // --- Initialize all functions ---
      document.addEventListener("DOMContentLoaded", () => {
        try {
          splitTextIntoSpans("h1[data-text-split]");
        } catch (error) {
          console.error("Error splitting text:", error);
        }

        // ì¸ì¦ ë²„íŠ¼ ì²˜ë¦¬ ì´ˆê¸°í™”
        handleVerifyButton();

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ë¯¸ ë³´ì´ëŠ” ìš”ì†Œë“¤ ì¦‰ì‹œ í™œì„±í™” (ìŠ¤í¬ë¡¤ ì—†ì´ ë³´ì´ëŠ” ê²½ìš°)
        scrollElements.forEach((el) => {
          const rect = el.getBoundingClientRect();
          // ìš”ì†Œì˜ ìƒë‹¨ì´ ë·°í¬íŠ¸ í•˜ë‹¨ë³´ë‹¤ ìœ„ì— ìˆê³ , ìš”ì†Œì˜ í•˜ë‹¨ì´ ë·°í¬íŠ¸ ìƒë‹¨ë³´ë‹¤ ì•„ë˜ì— ìˆìœ¼ë©´ ë³´ì„
          if (rect.top < window.innerHeight && rect.bottom >= 0) {
            if (!el.classList.contains("visible")) {
              console.log(
                "Activating on load (already visible):",
                el.className
              ); // ë””ë²„ê¹… ë¡œê·¸
              // Observer ì½œë°±ì„ ì§ì ‘ í˜¸ì¶œí•˜ëŠ” ëŒ€ì‹  í´ë˜ìŠ¤ë§Œ ì¶”ê°€í•˜ê³  í•„ìš”í•œ ë¡œì§ ìˆ˜í–‰
              el.classList.add("visible");

              // ì¦‰ì‹œ í™œì„±í™”ëœ content-sectionì˜ p íƒœê·¸ ì• ë‹ˆë©”ì´ì…˜ë„ ì²˜ë¦¬
              if (
                el.classList.contains("content-section") &&
                !el.classList.contains("hero-section") &&
                el !== scrollElements[scrollElements.length - 1] &&
                !el.hasAttribute("data-p-animated")
              ) {
                const contentWrapper = el.querySelector(".content-wrapper");
                const pInitialDelay = 0.6 + 0.2; // ë‹¨ì¶•ëœ wrapper transition + delay
                const paragraphs = contentWrapper.querySelectorAll("p");
                paragraphs.forEach((p, index) => {
                  const delay = pInitialDelay + index * 0.1; // ë”œë ˆì´ ë‹¨ì¶•
                  p.style.transitionDelay = `${delay}s`;
                  p.classList.add("p-animate-visible");
                });
                el.setAttribute("data-p-animated", "true");
              }
            }
          }
        });
      });
    </script>
  </body>
</html>
